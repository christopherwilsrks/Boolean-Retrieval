webpackJsonp([1],{"5Tfq":function(t,e){},"84Am":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),o=i("zL8q"),s=i.n(o),a=(i("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"step"}},[e("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:this.active,"finish-status":"success",simple:""}},[e("el-step",{attrs:{title:"上传"}}),this._v(" "),e("el-step",{attrs:{title:"索引"}}),this._v(" "),e("el-step",{attrs:{title:"搜索"}})],1)],1)},staticRenderFns:[]});var l={data:{active:0,isTop:!1},components:{step:i("VU/8")({props:["active"],data:function(){return{}},methods:{next:function(){this.active++>2&&(this.active=0)}}},a,!1,function(t){i("eewB")},"data-v-608db79c",null).exports},methods:{say:function(t){this.active=t,this.isTop=3===t},previous:function(){this.active=0,this.isTop=!1,this.$router.go(0),this.$router.push("/")},downloadFile:function(){window.open("/api/files/download")},downloadIndex:function(){window.open("/api/files/downloadindex")}},name:"App"},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isTop,expression:"isTop"}],staticStyle:{float:"left","margin-top":"1.8em"},attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:t.previous}},[t._v("再来\n  ")]),t._v(" "),i("el-row",{staticClass:"row-bg",class:{active:!t.isTop,inactive:t.isTop},attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:6}},[i("step",{attrs:{active:t.active}})],1),t._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:!t.isTop,expression:"!isTop"}],staticClass:"item",attrs:{effect:"dark",content:"下载官方使用说明",placement:"bottom"}},[i("el-button",{staticStyle:{float:"right","margin-top":"1.8em"},attrs:{type:"primary",small:"",icon:"el-icon-download"},on:{click:t.downloadFile}})],1),t._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.isTop,expression:"isTop"}],staticClass:"item",attrs:{effect:"dark",content:"下载当前索引",placement:"bottom"}},[i("el-button",{staticStyle:{float:"right","margin-top":"1.8em"},attrs:{type:"primary",small:"",icon:"el-icon-download"},on:{click:t.downloadIndex}})],1)],1),t._v(" "),i("keep-alive",[i("router-view",{attrs:{msg:t.msg},on:{say:t.say}})],1)],1)},staticRenderFns:[]};var c=i("VU/8")(l,r,!1,function(t){i("nyRL")},null,null).exports,d=i("mtWM"),u=i.n(d),h=i("/ocq"),p={data:function(){return{message:""}},methods:{previous:function(){this.$emit("say",1),this.$router.push("/indexing")},search:function(){var t={word:this.message},e=this;this.$axios({method:"post",url:"/api/search",headers:{"Content-type":"application/x-www-form-urlencoded"},data:this.$qs.stringify(t)}).then(function(t){e.$emit("say",3),console.log(t.data),e.$router.push({name:"List",params:{data:t.data}})}).catch(function(t){console.log(t)})}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"search"}},[i("br"),t._v(" "),i("br"),t._v(" "),i("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("el-button",{staticClass:"next",attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:t.previous}},[t._v("上一步")]),t._v(" "),i("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)},staticRenderFns:[]};var m=i("VU/8")(p,f,!1,function(t){i("UtrD")},"data-v-f1026d40",null).exports,v={data:function(){return{index:"建立索引",loading:!1}},methods:{message:function(){var t=this;this.loading=!0,this.index="重新建立索引",this.$axios.post("/api/indexing",{}).then(function(e){console.log(e),t.loading=!1,o.Notification.success("索引建立成功"),t.show=!0}).catch(function(t){console.log(t)})},previous:function(){this.$emit("say",0),this.$router.push("/")},nextone:function(){this.$emit("say",2),this.$router.push("/search")}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"absolute",top:"40%",left:"50%","margin-left":"-100px","margin-top":"-51px"}},[i("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[i("div",{attrs:{id:"indexing"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中"}},[i("el-button",{staticStyle:{width:"200px",height:"60px"},attrs:{round:"",size:"small",type:"primary"},on:{click:t.message}},[t._v("\n          "+t._s(t.index)+"\n        ")]),t._v(" "),i("br"),t._v(" "),i("el-button",{staticClass:"next",attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:t.previous}},[t._v("上一步")]),t._v(" "),i("el-button",{staticClass:"next",attrs:{type:"primary"},on:{click:t.nextone}},[t._v("下一步"),i("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)])])],1)},staticRenderFns:[]};var w=i("VU/8")(v,g,!1,function(t){i("5Tfq")},"data-v-0775b917",null).exports,x={components:{Indexing:w},mounted:function(){this.init()},data:function(){return{fileList:[],show:!1}},methods:{init:function(){var t=this;this.$axios.get("/api/files/list",{}).then(function(e){console.log(e.data),t.fileList=e.data,console.log(t.fileList.length),0!=t.fileList.length&&(t.show=!0)}).catch(function(t){console.log(t)})},handleRemove:function(t,e){console.log(t,e),this.$axios.get("/api/files/remove",{params:{filename:t.name}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 23 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},handleSuccess:function(t,e,i){console.log(t.toString()),this.show=!0},gotoIndexing:function(){this.$emit("say",1),this.$router.push("/indexing")}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"absolute",top:"40%",left:"50%","margin-left":"-100px","margin-top":"-51px"}},[i("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[i("div",{attrs:{id:"upload"}},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/files/upload","on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,limit:23,multiple:"","on-exceed":t.handleExceed,"file-list":t.fileList,"on-success":t.handleSuccess,"on-change":t.init}},[i("el-button",{staticStyle:{width:"200px",height:"60px"},attrs:{round:"",size:"medium",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"next",attrs:{type:"primary"},on:{click:t.gotoIndexing}},[t._v("下一步"),i("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)])],1)},staticRenderFns:[]};var _=i("VU/8")(x,y,!1,function(t){i("VY/O")},"data-v-26f6417a",null).exports,b={data:function(){return{fileList:[],filename:""}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$axios.get("/api/files/list",{}).then(function(e){console.log(e.data),t.fileList=e.data}).catch(function(t){console.log(t)})},handleRemove:function(t,e){console.log(t,e),this.$axios.get("/api/files/remove",{params:{filename:t.name}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")}}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"10em"}},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":this.handlePreview,"on-remove":this.handleRemove,"before-remove":this.beforeRemove,multiple:"",limit:3,"on-exceed":this.handleExceed,"file-list":this.fileList,"auto-upload":!1,"on-change":this.init}})],1)},staticRenderFns:[]},L={data:function(){return{docList:[],tokenList:[],dynamicTags:[],_index:0,inputValue:""}},mounted:function(){this.init()},components:{doneupload:i("VU/8")(b,$,!1,null,null,null).exports},methods:{init:function(){var t=this.$route.params.data;this.docList=t,this.tokenList=this.docList[0].tokenInfos,console.log(this.tokenList);for(var e=0;e<this.docList.length;e++)this.dynamicTags.push(this.docList[e].token)},changeToken:function(t,e){for(var i=0;i<this.docList.length;i++)this.docList[i].token===t&&(this.tokenList=this.docList[i].tokenInfos);this._index=e}},name:"List"},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"List"}},[i("el-row",{staticStyle:{height:"100%"},attrs:{gutter:12}},[i("el-col",{staticStyle:{height:"100%"},attrs:{span:8}},[i("el-card",{staticStyle:{height:"100%"},attrs:{shadow:"hover"}},[i("div",{staticStyle:{"margin-top":"5em"}},t._l(t.tokenList,function(e){return i("el-badge",{staticClass:"item",attrs:{value:e.count}},[i("el-button",{attrs:{size:"medium"}},[t._v(t._s(e.docsName))])],1)}))])],1),t._v(" "),i("el-col",{staticStyle:{height:"100%"},attrs:{span:8}},[i("el-card",{staticStyle:{height:"100%"},attrs:{shadow:"hover"}},[i("div",{staticStyle:{"margin-top":"15em"}},t._l(t.dynamicTags,function(e,n){return i("el-button",{staticStyle:{"margin-top":"2em","margin-right":"20px"},attrs:{type:"success",plain:"",loading:t._index==n},on:{click:function(i){t.changeToken(e,n)}}},[t._v(t._s(e))])}))])],1),t._v(" "),i("el-col",{staticStyle:{height:"100%"},attrs:{span:8}},[i("el-card",{staticStyle:{height:"100%"},attrs:{shadow:"hover"}},[i("doneupload")],1)],1)],1)],1)},staticRenderFns:[]};var S=i("VU/8")(L,k,!1,function(t){i("84Am")},"data-v-b223c12c",null).exports;n.default.use(h.a);var R=[{path:"/",name:_,component:_},{path:"/search",component:m},{path:"/indexing",component:w},{path:"/list",name:"List",component:S}],T=i("mw3O"),C=i.n(T);n.default.config.productionTip=!1,u.a.defaults.withCredentials=!0,n.default.prototype.$axios=u.a,n.default.prototype.$qs=C.a,n.default.use(s.a),n.default.use(h.a);var E=new h.a({routes:R,mode:"history"});new n.default({created:function(){this.$axios.get("/api/login",{}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},el:"#app",router:E,render:function(t){return t(c)}})},UtrD:function(t,e){},"VY/O":function(t,e){},eewB:function(t,e){},nyRL:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7b4fa4486fb1f709bcfb.js.map